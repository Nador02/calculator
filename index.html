<!DOCTYPE html>
<html>
    <head>
        <title>Calculator</title>
        <link href="style.css" rel="stylesheet" type="text/css"/>
    </head>
    <body>
        <div class="back"></div>
        <div class="container">
            <div class="display"></div>
            <div class="topb">
                <div class="top butt clear">AC</div>
                <div class="top butt del">del</div>
                <div class="top butt percent">%</div>
            </div>
            <div class="operatorb">
                <div class="op butt" id="division">/</div>
                <div class="op butt" id="addition">+</div>
                <div class="op butt" id="subtraction">-</div>
                <div class="op butt" id="multiplication">*</div>
                <div class="op butt" id="equal">=</div>
            </div>
            <div class="nums">
                <div class="num butt">1</div>
                <div class="num butt">2</div>
                <div class="num butt">3</div>
                <div class="num butt">4</div>
                <div class="num butt">5</div>
                <div class="num butt">6</div>
                <div class="num butt">7</div>
                <div class="num butt">8</div>
                <div class="num butt">9</div>
                <div class="num butt" id="zero">0</div>
                <div class="num butt">.</div>
            </div>
        </div>
    <script>
        let operator = 0;
        let first = 0;
        const dip = document.querySelector(".display");
        const nums = document.querySelectorAll(".num");
        const clr = document.querySelector(".clear");
        const dels = document.querySelector(".del");
        const ops = document.querySelectorAll(".op");
        const per = document.querySelector(".percent");
        const back = document.querySelector(".back");
        let currentOp = document.querySelector("div");
        function display(){
            if(this.textContent == ".")
                if(dip.textContent.indexOf(".") == -1)
                    dip.textContent = dip.textContent + this.textContent;
                else
                    console.log("Error: Cannot add more than (1) Decimal Point in Calculator");
            else
                dip.textContent = dip.textContent + this.textContent;
        }
        function clear(){
            dip.textContent= "";
            back.style.backgroundColor = "#fed8b1";
        }
        function del(){
            dip.textContent = dip.textContent.substring(0,dip.textContent.length - 1);
        }
        function operation(){
            if(this.textContent == "=")
            {
                equal();
                current.classList.remove("trans");
            }
            else
            {
                first = Number(dip.textContent);
                clear();
                operator = this.textContent;
                this.classList.add("trans");
                current = this;
            }
        }
        function equal(){
            let second = Number(dip.textContent);
            if(dip.textContent = "")
                console.log("Can't do an operator with nothing!");
            else
                if(operator == "+")
                    dip.textContent = first + second;
                else if(operator == "-")
                    dip.textContent = first - second;
                else if(operator == "*")
                    dip.textContent = first * second;
                else if(operator == "/")
                {
                    if(second != 0)
                    {
                    console.log("here");
                    let val = first/second;
                    dip.textContent = val.toFixed(2);
                    }
                    else
                    {
                        dip.textContent = "NO / BY 0 >:(";
                        back.style.backgroundColor = "red";
                    }

                }
        }
        function percent(){
            dip.textContent = Number(dip.textContent)/100;
        }
        nums.forEach(num => num.addEventListener("click", display));
        ops.forEach(op => op.addEventListener("click", operation));
        clr.addEventListener("click", clear);
        dels.addEventListener("click", del);
        per.addEventListener("click", percent);
    </script>
    </body>
</html>